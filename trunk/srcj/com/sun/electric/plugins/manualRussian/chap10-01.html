<!-- HEADER 10-1:Файлы формата JELIB -->

Эта глава описывает родной формат файла Electric, который имеет расширение "jelib".
Более ранний формат файла, который имеет расширение "elib", остается неописанным и больше не используется.
<P>
JELIB файлы - это текстовые читаемые файлы.
Каждая строка JELIB файла начинается с идентификационного символа, который служит отличительным признаком строки.
Пустые строки, и те которые начинаются с символа комментария (*) игнорируются.
Длина строки не ограничена.
<P>
После символа идентификации в начале строки расположен набор полей.
Все поля разделены символом разделителя (|), кроме первого поля,
которое начинается сразу после символа идентефикации строки.
В строке запрещено ставить пробелы (то есть любой пробел рассматривается как действительный символ).
Управляющие символы (так же как и идентефикационные символы) должны быть в верхнем регистре.
Для того, чтобы вставить символ '|' или '\n' или '\r' в поле, он должен быть заключен в двойные кавычки (").
Символ обратной косой черты может использоваться внутри заключенной в кавычки строки для обозначения специальных символов
<P>
<CENTER><TABLE BORDER=1>
<TR><TH>Символы</TH><TH>Значение</TH></TR>
<TR><TD ALIGN=CENTER>\n</TD><TD>строка ключает символ (\n)</TD></TR>
<TR><TD ALIGN=CENTER>\r</TD><TD>символ возврата каретки(\r)</TD></TR>
<TR><TD ALIGN=CENTER>\"</TD><TD>символ кавычки(")</TD></TR>
<TR><TD ALIGN=CENTER>\\</TD><TD>символ обратной косой черты (\)</TD></TR>
</TABLE></CENTER>
<P>
Каждая из различных видов строк в файле имеет фиксированный набор полей которые могут присутствовать.
Некоторые вилы строк также допускают дополнительные поля в конце для добавления переменных
(пара атрибут/значение, см. <A HREF="chap10-04-01.html#chap10-04-01">Раздел 10-4-1</A>).
<P>
JELIB файл состоит из трех частей: заголовок, ячейки и трейлер.
<P>
Заголовок включает в себя следующие элементы:
<P>
<CENTER><TABLE BORDER=1>
<TR><TD>H</TD><TD>Заголовочная информация; поля переменных разрешены</TD></TR>
<TR><TD>V</TD><TD>Обзорная информация</TD></TR>
<TR><TD>L</TD><TD>Внешняя библиотечная информация</TD></TR>
<TR><TD>R</TD><TD>Внешняя ячейка в вышеупомянутой внешней библиотеке</TD></TR>
<TR><TD>F</TD><TD>Внешний экспорт в вышеупомянутой внешней ячейке</TD></TR>
<TR><TD>T</TD><TD>Информация о технологии; поля переменных разрешены</TD></TR>
<TR><TD>D</TD><TD>Информация о Примитивном Узле в вышеупомянутой технологии</TD></TR>
<TR><TD>P</TD><TD>Информация о Примитивном Порте в вышеупомянутом примитивном узле</TD></TR>
<TR><TD>W</TD><TD>Информация о Примитивной Дуге в вышеупомянутой технологии</TD></TR>
<TR><TD>O</TD><TD>Информация об инструментах</TD></TR>
</TABLE></CENTER>
<P>
Ячейки включают в себя следующие элементы:
<P>
<CENTER><TABLE BORDER=1>
<TR><TD>C</TD><TD>Заголовок ячейки; поля переменных разрешены</TD></TR>
<TR><TD>N</TD><TD>Информация о примитивных узлах в текущей ячейке; поля переменных разрешены</TD></TR>
<TR><TD>I</TD><TD>Конкретная информация о ячейке в текущей ячейке; поля переменных разрешены</TD></TR>
<TR><TD>A</TD><TD>Информация о дугах в текущей ячейке; поля переменных разрешены</TD></TR>
<TR><TD>E</TD><TD>Информация об экспортах в текущей ячейке; поля переменных разрешены</TD></TR>
<TR><TD>X</TD><TD>Окончание ячейки</TD></TR>
</TABLE></CENTER>
<P>
Трейлер включает в себя следующие элементы:
<P>
<CENTER><TABLE BORDER=1>
<TR><TD>G</TD><TD>Информация о группе</TD></TR>
</TABLE></CENTER>
<P>
Все данные в файле полностью упорядочены.
Здесь упорядочение выполняется для внешних библиотек, ячеек в их библиотеках, технологий, инструментов, ячеек,
узлов/дуг/экспортов в ячейке и т.д.
Каждая дополнительная переменная в строке упорядочена.
Упорядочение обычно производится сортировкой по имени.
Благодаря упорядоченности всего в файле, точно такой же файл генерируется каждый раз,
и операция сравнения исходного кода безошибочно находит различия между двумя файлами.
Примечательно, однако, что программа чтения JELIB не требует сортировки, и может обрабатывать данные в любом порядке.

<!-- TRAILER -->
