<project name="scalaMainAnt" basedir="../ScalaProjects/">
	<property name="scala.jar" value="../packaging/.m2/repository/org/scala-lang/scala-library/2.8.0/scala-library-2.8.0.jar" />
	<property name="scala.compiler.jar" value="../packaging/.m2/repository/org/scala-lang/scala-compiler/2.8.0/scala-compiler-2.8.0.jar" />
	<!-- <property name="commons-logging" value="../packaging/.m2/repository/commons-logging/commons-logging/1.1.1/commons-logging-1.1.1.jar" /> -->
	<property name="electric.classes" value="../srcj" />
	<property name="scala.classes" value="../packaging/ScalaProjects/bin" />

	<target name="init">
		<path id="scala.classpath">
			<pathelement location="${scala.jar}" />
			<!-- <pathelement location="${commons-logging}" /> -->
			<pathelement location="${electric.classes}" />
			<pathelement location="${build.dir}" />
		</path>

		<taskdef resource="scala/tools/ant/antlib.xml">
			<classpath>
				<pathelement location="${scala.jar}" />
				<pathelement location="${scala.compiler.jar}" />
			</classpath>
		</taskdef>
	</target>

	<target name="build" depends="clean, init">
		<mkdir dir="${build.dir}" />
		<scalac srcdir="${src.dir}" destdir="${build.dir}" classpathref="scala.classpath">
			<include name="**/*.scala" />
		</scalac>

		<antcall target="copyClasses" />
	</target>

	<target name="clean">
		<delete dir="${build.dir}" />
	</target>

	<target name="copyClasses">
		<mkdir dir="${scala.classes}" />
		<copy todir="${scala.classes}">
			<fileset dir="${build.dir}" />
		</copy>
		<copy todir="${scala.classes}">
			<fileset dir="${src.dir}" />
		</copy>
	</target>

	<target name="cleanCopiedClasses">
		<delete dir="${scala.classes}" />
	</target>

	<target name="compileAllScalaProjects">
		<ant antfile="../packaging/ScalaProjects/AreaCheck/scalaAnt.xml" />
	</target>
</project>
