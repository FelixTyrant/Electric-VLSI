<!-- HEADER 9-7-5-3: NCC GUI: Parts and Wires -->

<P>
NCC finds mismatches by applying two partitioning techniques in sequence.
First it uses <I>Local Partitioning</I> [sml2005-0288] and
then it uses <I>Hash Code Partitioning</I>. If Local Partitioning
finds mismatches, then NCC reports only those. The mismatches in
Local Partitioning of parts and wires are grouped under nodes with
names "Parts [X]" and "Wires [X]",
where "X" is the number of mismatched Local Partitioning classes (Figure 5).
Each class node represents a class of Parts or Wires sharing the same
local characteristics.</P>

<H3>Parts</H3>
<P>Parts are partitioned into equivalence
classes based upon their type and the number of Wires attached to
them. Figure 5 shows a list of two Part classes.</P>

<P ALIGN=CENTER><IMG SRC="fig09-46.png" ALT="Figure 9.46" BORDER=1><BR>
<FONT SIZE="-1">Figure 5: Displaying a Part class</FONT></P>

<P>The tree node corresponding to the
first class is selected and has the name
<BR>
"#1 [36]: pads180nm_100um:PAD_dgnd"
<BR>
which has the following meaning:</P>
<TABLE>
	<TR>
		<TD ALIGN=CENTER>
			#1
		</TD>
		<TD>
			The sequence number of this class
		</TD>
	</TR>
	<TR>
		<TD ALIGN=CENTER>
			[36]
		</TD>
		<TD>
			The number of mismatched Parts in one of the two cells, whichever is
			bigger. In our example, the schematic cell has 1 mismatched Part
			in this class and the layout has 36 mismatched Parts in this
			class. The maximum of 1 and 36 is 36 and, therefore, the tree node
			has "[36]" in its name.
		</TD>
	</TR>
	<TR>
		<TD ALIGN=CENTER>
			pads180nm_100um
		</TD>
		<TD>
			Part library
		</TD>
	</TR>
	<TR>
		<TD ALIGN=CENTER>
			PAD_dgnd
		</TD>
		<TD>
			Part type
		</TD>
	</TR>
</TABLE>
<P>
In the example above, Part types were
enough to partition Parts into classes. In many other cases, like the
one in Figure 6, types are not enough and the number of different
Wires attached to a Part is employed as an additional partitioning
criterion.</P>

<P>
When a Part class node is
selected, the right half of the window displays a two-column table.
Each column corresponds to one of the compared Cells and has a list
of that Cell's Parts  which belong  to the selected Part class.
Matched Parts are printed in green; the two</P>

<P ALIGN=CENTER><IMG SRC="fig09-47.png" ALT="Figure 9.47" BORDER=1><BR>
<FONT SIZE="-1">Figure 6: The number of attached Wires as a Part class characteristic</FONT></P>

<P>
Parts on the same line match each other. Mismatched Parts are printed in red in no
particular order.</P>

<H3>Wires</H3>
<P>
NCC partitions Wires into equivalence
classes based upon the number of different Port types attached to
them. Examples of Port types include an NMOS "gate"
Port, a PMOS "diffusion" Port,
and a NAND "output" Port.
Port type counts are represented as a list of leaf nodes under the Wire
class node. Since zero-value counts at the beginning of the list tend
to be numerous and are rarely used by designers, they are further
grouped under a "0's";
node.</P>

<P>
For example, in Figure 7, the second wire class is expanded and we can
see its four characteristics, the first three of which are &quot;zero&quot;.
The first characteristic has a leaf node called
"pads180nm_150um:PAD_raw welltapL ports", which means that Wires in this class
are <I>not</I> attached to
the Port "welltapL" of the Part
"PAD_raw" from the library
"pads180nm_150um".</P>

<P>
The fourth characteristic is "1 = number of pads180nm_150um:PAD_raw padRaw ports".
The name suggests that all Wires in this class are connected to the
"padRaw" Ports of 3 instances of
Parts with type "PAD_raw" from
library "pads180nm_150um".</P>

<P ALIGN=CENTER><IMG SRC="fig09-41.png" ALT="Figure 9.41" BORDER=1><BR>
<FONT SIZE="-1">Figure 7: Wire class nodes</FONT></P>

<P ALIGN=CENTER><IMG SRC="fig09-48.png" ALT="Figure 9.48" BORDER=1><BR>
<FONT SIZE="-1">Figure 8: Displaying a Wire class</FONT></P>

<P>
When a Wire class node is selected, the
right half of the window displays a two-column table (Figure 8). Each
column corresponds to one of the compared Cells and has a list of
that Cell's Wires which belong to the selected Wire class. Matched
Wires are printed in green, the two Wires on the same line match each
other. Mismatched Wires are printed in red in no particular order.</P>

<P>
The tree node names contain the first mismatched Wires from both lists.
For example, in Figure 8 the second Wire class has the node name
<BR>
"#2 : { E_eq_Vo,...} { W_core_eqVo,... }  [10]",
<BR>
which has the following meaning:</P>
<TABLE>
	<TR>
		<TD ALIGN=CENTER>
			#2
		</TD>
		<TD>
			The sequence number of this class.
		</TD>
	</TR>
	<TR>
		<TD ALIGN=CENTER>
			{E_eq_Vo,...}
		</TD>
		<TD>
			The first mismatched Wire in the first Cell's list is called "E_eq_Vo."
			The ellipsis after the name suggest
			that there is more than one Wire in the list.
		</TD>
	</TR>
	<TR>
		<TD ALIGN=CENTER>
			{ W_core_eqVo,... }
		</TD>
		<TD>
			The first mismatched Wire in the second Cell's list is called
			"W_core_eqVo."
		</TD>
	</TR>
	<TR>
		<TD ALIGN=CENTER>
			[10]
		</TD>
		<TD>
			The number of mismatched Wires in one of the two cells, whichever is
			bigger. In our example, the schematic Cell has 10 mismatched Wires
			in this class, and the layout has 2 mismatched Wires in this
			class. The maximum of 10 and 2 is 10, and therefore, the tree node
			has "[10]" in its name.
		</TD>
	</TR>
</TABLE>

<H3>Hash Code Partitioning</H3>
<P>
If Local Partitioning fails to find a mismatch, then NCC reports
mismatches found by <I>Hash Code Partitioning</I>
under the nodes labeled "Parts (hash code)" and "Wires (hash code)".
Unlike their local partitioning
counterparts, Hash Code Partitioning classes do not have any
characteristics.</P>

<P ALIGN=CENTER><IMG SRC="fig09-49.png" ALT="Figure 9.49" BORDER=1><BR>
<FONT SIZE="-1">Figure 9: Up to five
equivalence classes can be selected simultaneously</FONT></P>

<H3>Selecting Multiple Classes</H3>
<P>
It is possible to select more than one
class by holding the C<I>ontrol</I> (C<I>ommand</I> on Macintosh) or
the S<I>hift</I> key during selection. In this case, the right side
will have multiple rows, one row per class. Figure 9 shows what is
displayed when the three Wire classes in Figure 8 are selected. Up to
five classes can be displayed at once. Rows are arranged in the order
in which the classes are selected.</P>

<P>
Selecting one or more subnodes of a
class node is equivalent to selecting the class node itself. This
means that no class appears twice in the table on the right. If some
node of a type different from Parts, Wires, Parts (hash code), or
Wires (hash code) is selected as well, then it has a higher display
priority and its contents are displayed instead. For example, if an
Exports node was selected with the three Wire class nodes, then the
Export table would be displayed on the right.</P>

<!-- TRAILER -->
