<!-- HEADER 9-8-1: Pad Frame Generation -->

<!-- COMMAND Tool/Generation/Pad Frame Generator... -->

The Pad Frame generator reads a disk file and places a ring of pads around your chip.
The pads are contained in a separate library, and are copied into the current library to construct the pad frame.
<P>
The format of the pad frame disk file is as follows:

<CENTER><TABLE>
<TR><TD><CODE>celllibrary LIBRARYFILE [copy]</CODE></TD><TD>; Identifies the file with the pads</TD></TR>
<TR><TD><CODE>cell PADFRAMECELL</CODE></TD><TD>; Creates a cell to hold the pad frame</TD></TR>
<TR><TD><CODE>views VIEWLIST</CODE></TD><TD>; List of views of Cell to be created</TD></TR>
<TR><TD><CODE>core CORECELL</CODE></TD><TD>; Places cell in center of pad frame</TD></TR>
<TR><TD><CODE>align PADCELL INPUTPORT OUTPUTPORT</CODE></TD><TD>; Defines input and output ports on pads</TD></TR>
<TR><TD><CODE>export PADCELL IOPORT [COREPORT]</CODE></TD><TD>; Defines exports on the pads</TD></TR>
<TR><TD><CODE>place PADCELL [GAP] [PORTASSOCIATION]</CODE></TD><TD>; Places a pad into the pad frame</TD></TR>
<TR><TD><CODE>rotate DIRECTION</CODE></TD><TD>; Turns the corner in pad placement</TD></TR>
</TABLE></CENTER>
<P>
The file must have exactly one <U><CODE>celllibrary</CODE></U> and <U><CODE>cell</CODE></U> statement,
as they identify the pad library and the pad frame cell.
If the <U><CODE>celllibrary</CODE></U> line ends with the keyword <U><CODE>copy</CODE></U>,
then cells from that library are copied into the library with the pad ring (by default, they are merely instantiated,
creating a cross-library reference to the pads library).
The file may have only one <U><CODE>core</CODE></U> statement to place your top-level circuit inside of the pad frame.
If there is no <U><CODE>core</CODE></U> statement,
then pads are placed without any circuit in the middle.
<P>
By default, the Cell created will be a layout cell: PADFRAMECELL{lay}. To generate
different or additional views, use the <U><CODE>views</CODE></U> keyword followed by a
space-delimited list of view abbreviations, such as <CODE>sch</CODE> for schematic or
lay for <CODE>layout</CODE>. Example:
<CENTER><CODE>views lay sch</CODE></CENTER>
<P>
The <U><CODE>align</CODE></U> statement is used to identify connection points on the pads that will be used for placement.
Each pad should have an input and an output port that define the edges of the pad.
These ports are typically the on the power or ground rails that run through the pad.
When placing pads, the output port of one pad is aligned with the input port of the next pad.
<P>
Each pad that is placed with a <U><CODE>place</CODE></U>
statement is aligned with the previous pad according to the alignment factor.
A <U><CODE>gap</CODE></U> can be given in the placement that spreads the two pads by the specified distance.
For example, the statement:
<CENTER><CODE>place padIn gap=100</CODE></CENTER>
requests that the "padIn" pad be placed so that its input port is 100 units away from the previous pad's output port.
<P>
In general pads will be placed next to each other, but it can be desirable to place the first pad
in a specific location, or for non-continguous pad frames, start a new section of the frame
from a particular location.  Any <U><CODE>place</CODE></U> command can be annotated with
the exact location of the placement with an x and y coordinate:
<CENTER><CODE>place padIn x=100 y=100</CODE></CENTER>
<P>
If a core cell has been given, you can also indicate wiring between the pads and the core ports.
This is done by having one or more <I>port associations</I> in the <U><CODE>place</CODE></U> statements.
The format of a port association is simply <U><CODE>PADPORT = COREPORT</CODE></U>.
For example, the statement:
<CENTER><CODE>place padOut tap=y</CODE></CENTER>
indicates that the "tap" port on the placed pad will connect to the "y" port on the core cell.
<P>
The port association can also create an export on the pad.
The statement:
<CENTER><CODE>place padOut export io=o7 export tap=core_o7</CODE></CENTER>
creates two exports on the pad, "o7" on its "io" port, and "core_o7" on its tap port.
For many instances of this pad type, this notation can be condensed
with the use of the <U><CODE>name</CODE></U> keyword in conjunction
with exports defined for the pad at the start of the file.  For example, defining the IO ports as
<CENTER><CODE>export padOut io tap</CODE></CENTER>
and then changing the place statement to
<CENTER><CODE>place padOut name=o7</CODE></CENTER>
results in the same ports being exported with the same names.  This shorted notation always
prepends name with "core_" on the core port export.
<P>
The <U><CODE>rotate</CODE></U> statement rotates subsequent pads by the specified amount.
The statement has only two forms: <U><CODE>rotate c</CODE></U> to rotate clockwise,
and <U><CODE>rotate cc</CODE></U> to rotate counterclockwise.
<P>
Here is an example of a pad frame disk file, with the finished layout.
There is a cell in the Samples library called "tool-PadFrame"
(get it with the <B>Load Library</B> command, in menu <B>Help / Samples</B>).
Suppose a text file is created with with this content,
and read with the <B>Pad Frame Generator...</B> command (in menu <B>Tool / Generation</B>).
<P>
<CENTER><TABLE>
<TR><TD><CODE>; specify library with pads</CODE></TD>              <TD><CODE>; place the top edge of pads</CODE></TD></TR>
<TR><TD><CODE>celllibrary pads4u.txt</CODE></TD>                   <TD><CODE>place PAD_corner</CODE></TD></TR>
<TR><TD></TD>                                                      <TD><CODE>place PAD_gnd gnd_in=gnd</CODE></TD></TR>
<TR><TD><CODE>; create a cell called "padframe"&nbsp;&nbsp;&nbsp;&nbsp;</CODE></TD><TD><CODE>place PAD_vdd m1m2=vdd</CODE></TD></TR>
<TR><TD><CODE>cell padframe</CODE></TD>                            <TD></TD></TR>
<TR><TD><CODE>; specify what views to create</CODE></TD>           <TD></TD></TR>
<TR><TD><CODE>views lay sch</CODE></TD>                            <TD></TD></TR>
<TR><TD></TD>                                                      <TD></TD></TR>
<TR><TD><CODE>cell padframe</CODE></TD>                            <TD></TD></TR>
<TR><TD></TD>                                                      <TD><CODE>; place the right edge of pads</CODE></TD></TR>
<TR><TD><CODE>; place this cell as the "core"</CODE></TD>	       <TD><CODE>rotate c</CODE></TD></TR>
<TR><TD><CODE>core tool-PadFrame</CODE></TD>                       <TD><CODE>place PAD_corner</CODE></TD></TR>
<TR><TD></TD>                                                      <TD><CODE>place PAD_in out=pulse</CODE></TD></TR>
<TR><TD><CODE>; set the alignment of the pads</CODE></TD>          <TD><CODE>place PAD_spacer</CODE></TD></TR>
<TR><TD><CODE>;  (with input and output export)</CODE></TD>        <TD></TD></TR>
<TR><TD><CODE>align PAD_in          dvddL dvddR</CODE></TD>        <TD><CODE>; place the bottom edge of pads</CODE></TD></TR>
<TR><TD><CODE>align PAD_out         dvddL dvddR</CODE></TD>        <TD><CODE>rotate c</CODE></TD></TR>
<TR><TD><CODE>align PAD_vdd         dvddL dvddR</CODE></TD>        <TD><CODE>place PAD_corner</CODE></TD></TR>
<TR><TD><CODE>align PAD_gnd         dvddL dvddR</CODE></TD>        <TD><CODE>place PAD_out in=out1</CODE></TD></TR>
<TR><TD><CODE>align PAD_corner      dvddL dvddR</CODE></TD>        <TD><CODE>place PAD_out in=out2</CODE></TD></TR>
<TR><TD><CODE>align PAD_spacer      dvddL dvddR</CODE></TD>        <TD></TD></TR>
<TR><TD></TD>                                                      <TD><CODE>; place the left edge of pads</CODE></TD></TR>
<TR><TD></TD>                                                      <TD><CODE>rotate c</CODE></TD></TR>
<TR><TD></TD>                                                      <TD><CODE>place PAD_corner</CODE></TD></TR>
<TR><TD></TD>                                                      <TD><CODE>place PAD_in out=in1</CODE></TD></TR>
<TR><TD></TD>                                                      <TD><CODE>place PAD_in out=in2</CODE></TD></TR>
</TABLE></CENTER>
<P>
<TABLE><TR><TD><IMG SRC="fig09-16.png" ALT="Figure 9.16" BORDER=0></TD><TD>
This file places 8 pads in a ring (2 on each side) and also places corner "pads" for making bends.
The input pads connect to the 2 input ports "a1" and "a2".
The output pads connect to the 3 output ports "out1", "out2", and "out3"
The power and ground pads connect to the "vdd" and "gnd" ports.
<P>
Note that the generator places pad instances, but does not wire them to each other.
In order to create a uniform ring of power and ground between the pads,
you can use the Auto-router or the Mimic-router (see <A HREF="chap09-06-01.html#chap09-06-01">Section 9-6-1</A>).
</TD></TR></TABLE>
<P>
<TABLE><TR><TD>
Connections between pads and ports of the core cell use Unrouted arcs
(from the Generic technology, see <A HREF="chap07-06-03.html#chap07-06-03">Section 7-6-3</A>).
After these connections are routed with real geometry, the finished layout is shown here, fully instantiated.
</TD><TD><IMG SRC="fig09-17.png" ALT="Figure 9.17" BORDER=0></TD></TR></TABLE>

<!-- TRAILER -->
