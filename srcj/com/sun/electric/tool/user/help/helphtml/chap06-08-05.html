<!-- NEED 6in -->

<!-- HEADER 6-8-5: Cell Parameters -->

<!-- COMMAND Edit/Properties/Cell Parameters... -->
<!-- COMMAND Edit/Properties/See All Attributes on Node -->
<!-- COMMAND Edit/Properties/Hide All Attributes on Node -->
<!-- COMMAND Edit/Properties/Default Attribute Visibility -->
<!-- COMMAND Edit/Properties/Update Parameters on Node -->
<!-- COMMAND Edit/Properties/Update Parameters all Libraries -->

<H3>Attributes</H3>
Many commands in Electric add attribute information to the circuitry (for example, NCC annotations,
Spice multipliers, Verilog transistor strength, etc.)
These attributes are pieces of text that appear in the circuit.
<P>
Some attributes are normally hidden and others are normally displayed.
Since this text can clutter the display,
you can request that all text on a node be hidden by selecting the node and using the
<B>Hide All Attributes on Node</B> command (in menu <B>Edit / Properties</B>).
To see all text on a node, use the <B>See All Attributes on Node</B> command.
Finally, to set text to its default visibility, use the <B>Default Attribute Visibility</B> command.
<P>

<H3>Parameters</H3>
Parameters are special attributes that are passed from schematic icon instances to the schematics.
Parameters are defined in the icon or schematic cell, and then they appear on the icon instances.
Users can set different values on each icon instance, and each value will be passed down into the
schematic and applied as necessary.
The computer-programming equivalent of this is that the cell's parameter is the "formal" value
and the instance parameters are the "actual" values.
<P>
For example, an inverter schematic may have transistor sizes defined with a parameter.
The actual transistors inside of the inverter schematic will use the parameter values,
and each inverter instance will have a different parameter value, causing that particular inverter
to have a different transistor ratio.
Another example of the use of cell parameters is in the Spice primitives,
where user-defined values (such as voltage)
are communicated into the icon for generation in the Spice deck
(see <A HREF="chap09-04-04.html#chap09-04-04">Section 9-4-4</A>).
<P>
To define parameters on a cell, it is necessary to be editing either the schematic or its icon.
Use the <B>Cell Parameters...</B> command (in menu <B>Edit / Properties</B>).
<P>
<TABLE><TR><TD>
A list of parameters is shown at the top.
You can create a new parameter by typing its name in the "Name:"
field, its default value in the "Value:" field and then clicking the "Create New" button.
If "Show new parameter on instances" is checked, this new parameter will be seen on all instances
with its default value.
The "Edit" button next to the "Value:" field lets you change the value in a separate dialog
(useful for major changes).
You can delete a parameter with the "Delete" button and change its name with the "Rename..." button.
</TD><TD><CENTER><IMG SRC="fig06-18.png" ALT="Figure 6.18"></CENTER></TD></TR></TABLE>
<P>
Just below the name and value fields are a set of popups that control
the parameter.
The "Code" popup determines whether the parameter is code or pure data.
This can be changed to one of the interpretive languages in Electric.
When this happens, the parameter value is treated as code that is sent to that interpreter.
Then, the true value of the parameter is the evaluation of that code.
For example, if the value of a parameter is "3+5" and the parameter is set to be Java code,
then the Java interpreter will be invoked, and the parameter will actually be "8".
<P>
You can change the type of unit by using the "Units" popup
(choices are capacitance, resistance, inductance, current, voltage, or distance).
See <A HREF="chap07-02-02.html#chap07-02-02">Section 7-2-2</A> for more on these units.
<P>
You can control the way that a parameter is displayed in the circuit by selecting the appropriate entry in the "Show:" popup.
You can request that various combinations of the parameter's name and value be displayed.
The "Invisible outside cell" requests that the parameter not be drawn when viewed farther up the hierarchy.
<P>
The bottom part of the dialog affects the appearance of the parameter, and is only relevant if the parameter is being shown.
The size of the text can be specified in relative or absolute units.
The anchor-point of the text can be set.
The X and Y offset of the anchor-point from the cell center can be specified.
The font of the text can be chosen.
The style of the text can be any combination of Italic, Bold, or Underline.
You can specify the rotation of the text, in 90-degree increments.
You can even give the text a color.
<P>
The "Done" button terminates this dialog.
Note that there is no "Cancel" button: this dialog makes changes as they are entered.
<P>
<H3>Special Considerations</H3>
<P>
Parameters on cells are not tied to any node or arc.
Instead, they float freely inside of the cell.
You can select the text and drag it to any location in the cell.
<P>
Parameters get <I>inherited</I> when the cell is instantiated.
This means that each new icon, when created, will have all of the parameters shown on it, with default values.
You can select any of these pieces of text and edit them to have new values.
The exception is the "Units" field which must match the defined parameter's units.
If you delete a parameter's text, the parameter remains, but with default value.
<P>
Parameters on instances of cells are placed at the same location as they appear inside of the icon cell.
To change the location on all subsequently created icon instances, move the location in the icon.
<P>
Inside of the cell, the parameter is shown with its name and default value.
To see the actual value from up the hierarchy, create a Java expression with the value "@PNAME" where PNAME is the parameter name.
For example, if a cell has an attribute called "heat", you might place a piece of Annotation Text
(with the "Annotation Text" command under the "Misc" entry in the component menu)
and name it "@heat".
Make sure to set its Code to Java.
When first defined, the parameter has no actual value, and so appears as "heat not found".
If an instance is created and its "heat" attribute is set to 7, then descending into that cell will show "7".
<P>
If a parameter is added to a cell without checking "Show new parameter on instances",
existing instances of that cell will not show the parameter.
To see the parameter at a later time, use the <B>Update Parameters on Node</B> command
(in menu <B>Edit / Properties</B>).
To do this everywhere, use the <B>Update Parameters all Libraries</B> command.
<P>
It is often desirable for each inherited parameter to have a unique value.
If the value of a parameter inside of the schematic or icon cell has "++" in it,
then the number before it will be incremented after each new icon instance is created.
Similarly, a "--" indicates that the number be decremented after inheritance.
This allows an inherited parameter to initially have a unique value.

<!-- TRAILER -->
