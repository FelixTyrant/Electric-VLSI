<!-- HEADER 6-11: Interpretive Languages -->

<!-- COMMAND Tool/Languages/Run Java Bean Shell Script -->

Electric has the Bean Shell built into it.
This enables you to load Java scripts that access the Electric database.
<P>
The Bean Shell is not part of the default Electric distribution.
You must add it as a "plug in"
(see <A HREF="chap01-05.html#chap01-05">Section 1-5</A> for more on plug-ins).
<P>
To run a script, use the <B>Run Java Bean Shell Script</B> command
(in menu <B>Tool / Languages</B>).
Here is an example script that searches the current cell for exports starting with "a".
<CENTER><TABLE BORDER=1><TR><TD>
<PRE>
   import com.sun.electric.database.hierarchy.Cell;
   import com.sun.electric.tool.user.ui.WindowFrame;
   import java.util.List;
   import java.util.ArrayList;
   import java.util.Iterator;

   // read library with test setup
   Cell lay = WindowFrame.getCurrentCell();

   // find all exports
   com.sun.electric.database.hierarchy.Export e;
   List aList = new ArrayList();
   for(Iterator it = lay.getPorts(); it.hasNext(); )
   {
       e = (com.sun.electric.database.hierarchy.Export)it.next();
       if (e.getName().startsWith("a")) aList.add(e);
   }

   String aOut = "Exports that start with 'a':";
   for(Iterator it = aList.iterator(); it.hasNext(); )
   {
       e = (com.sun.electric.database.hierarchy.Export)it.next();
       aOut += " " + e.getName();
   }
   System.out.println(aOut);
</PRE>
</TD></TR></TABLE></CENTER>
<P>
Notice that Electric's "Export" object must be a fully-qualified name, because the
name "Export" is used for other reasons in the Bean Shell.
<P>
For more information about accessing the interals of Electric, read the Javadoc
in the source code.

<!-- TRAILER -->
